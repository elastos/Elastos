project(catch2)

include(ProjectDefaults)
include(ExternalProject)
include(ExternalCMakeArgs)

ExternalProject_Add(
	catch2

	PREFIX ${PROJECT_DEPS_BUILD_PREFIX}
	URL "https://github.com/catchorg/Catch2/archive/v2.10.2.tar.gz"
	URL_HASH SHA256=79aa46ee6c5a87bc5306bfffc6ecde6a1ad6327715b208ee2e846873f282a494
	DOWNLOAD_NAME "Catch2-2.10.2.tar.gz"
	DOWNLOAD_DIR ${PROJECT_DEPS_TARBALL_DIR}
	DOWNLOAD_NO_PROGRESS 1

	CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${PROJECT_INT_DIST_DIR}
		${CMAKE_ARGS_INIT}
		-DCMAKE_BUILD_TYPE=Release
		-DCATCH_BUILD_TESTING=OFF
		-DCATCH_INSTALL_DOCS=OFF
		-DCATCH_INSTALL_HELPERS=OFF
		-DCMAKE_VERBOSE_MAKEFILE=${CMAKE_VERBOSE_MAKEFILE}
)