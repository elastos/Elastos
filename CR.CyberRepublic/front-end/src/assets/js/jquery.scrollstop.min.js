!(function(factory) {typeof define === 'function' && define.amd ? define(['jquery'], factory) : typeof exports === 'object' ? module.exports = factory(require('jquery')) : factory(jQuery)}(($) => {let dispatch = $.event.dispatch || $.event.handle, special = $.event.special, uid1 = `D${+new Date()}`, uid2 = `D${+new Date() + 1}`; special.scrollstart = {setup(data) {let timer, _data = $.extend({latency: special.scrollstop.latency}, data), handler = function(evt) {let _self = this, _args = arguments; timer ? clearTimeout(timer) : (evt.type = 'scrollstart', dispatch.apply(_self, _args)), timer = setTimeout(() => {timer = null}, _data.latency)}; $(this).bind('scroll', handler).data(uid1, handler)}, teardown() {$(this).unbind('scroll', $(this).data(uid1))}}, special.scrollstop = {latency: 250, setup(data) {let timer, _data = $.extend({latency: special.scrollstop.latency}, data), handler = function(evt) {let _self = this, _args = arguments; timer && clearTimeout(timer), timer = setTimeout(() => {timer = null, evt.type = 'scrollstop', dispatch.apply(_self, _args)}, _data.latency)}; $(this).bind('scroll', handler).data(uid2, handler)}, teardown() {$(this).unbind('scroll', $(this).data(uid2))}}}))
